---
keywords: fastai
description: I recently had the pleasure of having my laptop reboot into emergency mode after I hard powered it off. The passwords I tried did not work nor could not remember my root password. Hopefully this guide will be helpful for me in the future or for any poor soul who is locked out of emergency mode
title: How To Exit Emergency Mode Without Root Password On Linux
nb_path: _notebooks/2020-10-28-How-To-Exit-Emergency-Mode-Without-Root-Password-On-Linux.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-10-28-How-To-Exit-Emergency-Mode-Without-Root-Password-On-Linux.ipynb
-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><h1>Table of Contents<span class="tocSkip"></span></h1></p>
<div class="toc"><ul class="toc-item"><li><span><a href="#How-To-Exit-Emergency-Mode-Without-Root-Password-On-Linux" data-toc-modified-id="How-To-Exit-Emergency-Mode-Without-Root-Password-On-Linux-1"><span class="toc-item-num">1&nbsp;&nbsp;</span>How To Exit Emergency Mode Without Root Password On Linux</a></span></li><li><span><a href="#How-To-Change-The-Root-Password,-When-Root-Password-Is-Unknown" data-toc-modified-id="How-To-Change-The-Root-Password,-When-Root-Password-Is-Unknown-2"><span class="toc-item-num">2&nbsp;&nbsp;</span>How To Change The Root Password, When Root Password Is Unknown</a></span><ul class="toc-item"><li><span><a href="#How-To-Change-Kernel-Parameters" data-toc-modified-id="How-To-Change-Kernel-Parameters-2.1"><span class="toc-item-num">2.1&nbsp;&nbsp;</span>How To Change Kernel Parameters</a></span></li><li><span><a href="#How-To-Reset-The-Root-Password" data-toc-modified-id="How-To-Reset-The-Root-Password-2.2"><span class="toc-item-num">2.2&nbsp;&nbsp;</span>How To Reset The Root Password</a></span></li></ul></li><li><span><a href="#Fixing-Emergency-Mode-Error" data-toc-modified-id="Fixing-Emergency-Mode-Error-3"><span class="toc-item-num">3&nbsp;&nbsp;</span>Fixing Emergency Mode Error</a></span></li><li><span><a href="#Explanation-Behind-All-Steps" data-toc-modified-id="Explanation-Behind-All-Steps-4"><span class="toc-item-num">4&nbsp;&nbsp;</span>Explanation Behind All Steps</a></span><ul class="toc-item"><li><span><a href="#Why-We-Change-Kernel-Parameters" data-toc-modified-id="Why-We-Change-Kernel-Parameters-4.1"><span class="toc-item-num">4.1&nbsp;&nbsp;</span>Why We Change Kernel Parameters</a></span></li><li><span><a href="#Why-We-Unmount-And-Remount-The-Root-Partition-To-Reset-The-Root-Password" data-toc-modified-id="Why-We-Unmount-And-Remount-The-Root-Partition-To-Reset-The-Root-Password-4.2"><span class="toc-item-num">4.2&nbsp;&nbsp;</span>Why We Unmount And Remount The Root Partition To Reset The Root Password</a></span></li><li><span><a href="#Why-We-Use-systemctl-Instead-of-journalctl" data-toc-modified-id="Why-We-Use-systemctl-Instead-of-journalctl-4.3"><span class="toc-item-num">4.3&nbsp;&nbsp;</span>Why We Use <code>systemctl</code> Instead of <code>journalctl</code></a></span></li></ul></li></ul></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="How-To-Change-The-Root-Password,-When-Root-Password-Is-Unknown">How To Change The Root Password, When Root Password Is Unknown<a class="anchor-link" href="#How-To-Change-The-Root-Password,-When-Root-Password-Is-Unknown"> </a></h1><h2 id="How-To-Change-Kernel-Parameters">How To Change Kernel Parameters<a class="anchor-link" href="#How-To-Change-Kernel-Parameters"> </a></h2><p>Instructions from 
<a href="https://blog.sleeplessbeastie.eu/2014/05/01/how-to-access-single-user-mode-without-password/">Milosz Galazka</a></p>
<blockquote><p>In case the <em>Recovery mode</em>  menu entry is not available, you need to perform five simple steps in order to modify kernel parameters list.</p>
<ol>
<li>Turn on computer.</li>
<li>Access GRUB menu.</li>
<li>Edit existing menu entry (use  <code>e</code>  key).</li>
<li>Add  <code>single</code>  keyword (alternatively you can use  <code>-s</code>  or  <code>S</code> ) to the Linux kernel parameters list.</li>
<li>Press  <code>CTRL-X</code>  or  <code>F10</code>  while still in edit mode to continue boot process.</li>
</ol>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-To-Reset-The-Root-Password">How To Reset The Root Password<a class="anchor-link" href="#How-To-Reset-The-Root-Password"> </a></h2><p>Instructions from 
<a href="https://blog.sleeplessbeastie.eu/2014/05/01/how-to-access-single-user-mode-without-password/">TecMint</a></p>
<blockquote><p>Now check the status of root partition by running following command on the single user mode.</p>

<pre><code># mount | grep root</code></pre>
<p><img src="https://www.tecmint.com/wp-content/uploads/2015/03/Check-Root-Mount-Status.png" alt="Check Root Mount Status">&gt; &gt; You may notice that root partition is reported to be <code>'ro'</code> (Read Only). We need to have read-write permission on root partition to change the root password.</p>

<pre><code># mount -o remount,rw /</code></pre>
<p>Also cross check, if the root partition is mounted with read-write permission mode.</p>

<pre><code># mount | grep root</code></pre>
<p><img src="https://www.tecmint.com/wp-content/uploads/2015/03/Set-Read-Write-Permission-on-Root-Partition.png" alt="Set Permissions on Root Partition">&gt; Now you can change the root password by typing the passwd command. But that is not done. We need to relabel SELinux context. If we skip relabeling the whole SELinux context we would be able to login using using password.</p>

<pre><code># passwd root
[Enter New Password]
[Re-enter New Password]</code></pre>
<p><code># touch /.autorelabel</code>
<img src="https://www.tecmint.com/wp-content/uploads/2015/03/Reset-root-Password.png" alt="Reset root Password">&gt; Reboot and login again to root account and see if everything works ok or not?</p>
<p><code># exec /sbin/init</code></p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Fixing-Emergency-Mode-Error">Fixing Emergency Mode Error<a class="anchor-link" href="#Fixing-Emergency-Mode-Error"> </a></h1><p>Instructions from
<a href="https://www.youtube.com/watch?v=u42IpZU5ipQ"> Molesbite Hacks</a></p>
<blockquote><p>Type <code>systemctl</code></p>
<p>You'll get a list of logs, scroll till you find the error highlighted in red.</p>
<p>Type <code>fsck /dev/mapper/fedora-root</code></p>
<p>Hit Y (yes)</p>
</blockquote>
<p>When I initially ran <code>fsck /dev/mapper/fedora-root</code>, I got a error that wouldn't allow me to commit the changes</p>
<p>I decided to run <code>systemctl</code> and look for the red error</p>
<p>In my case, the error was in <code>/dev/mapper/fedora-root</code></p>
<p>I modified the directory to be <code>/dev/mapper/fedora-home</code>, matching the one listed by <code>systemctl</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Explanation-Behind-All-Steps">Explanation Behind All Steps<a class="anchor-link" href="#Explanation-Behind-All-Steps"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Why-We-Change-Kernel-Parameters">Why We Change Kernel Parameters<a class="anchor-link" href="#Why-We-Change-Kernel-Parameters"> </a></h2><p>We changed the kernel parameters so that we avoid regular boot, as it would be stuck in emergency boot.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Why-We-Unmount-And-Remount-The-Root-Partition-To-Reset-The-Root-Password">Why We Unmount And Remount The Root Partition To Reset The Root Password<a class="anchor-link" href="#Why-We-Unmount-And-Remount-The-Root-Partition-To-Reset-The-Root-Password"> </a></h2><p>As explained in the <a href="https://blog.sleeplessbeastie.eu/2014/05/01/how-to-access-single-user-mode-without-password/">TecMint article</a>, we unmount and remount (with <code>mount -o remount,rw /</code>) the root partition so that we have read-write access to modify the root's password.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Why-We-Use-systemctl-Instead-of-journalctl">Why We Use <code>systemctl</code> Instead of <code>journalctl</code><a class="anchor-link" href="#Why-We-Use-systemctl-Instead-of-journalctl"> </a></h2><p><code>journalctl</code> shows logs for everything including boots. If you have multiple boots, you may generate multiple logs. Using <code>systemctl</code> focuses on only the system processes, so the list is smaller to scrub through</p>

</div>
</div>
</div>
</div>
 

